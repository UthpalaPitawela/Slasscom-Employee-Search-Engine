import { API, GRAPHQL_AUTH_MODE } from "@aws-amplify/api";
import { searchByInstitute } from "../../services/queries";
import * as queries from "../../graphql/queries";

jest.mock("@aws-amplify/api");

describe("searchByInstitute", () => {
  it("fetches successfully data from searchByInstitute API", async () => {
    const mockData = {
      data: {
        listProfessionalInstitutes: {
          items: [
            {
              id: "1ebe3500-050d-4b79-9995-f0c237834529",
              memberId: "edf208f8-6ea6-43a0-889b-5245567ddebf",
              title: "Board Member",
              institute: "AAT",
              duration: {
                from: "26.11.2022",
                to: "12.08.2023",
                __typename: "ProfessionalInstituteDuration",
              },
              member: {
                id: "edf208f8-6ea6-43a0-889b-5245567ddebf",
                nic: "666399916V",
                fullName: "Kumudu Siriwardene",
                currentWorkplace: "99x",
                designation: "Frontend Engineer",
                profileSummary: "Reliable",
                createdAt: "2023-08-16T17:30:56.176Z",
                updatedAt: "2023-08-16T17:30:56.176Z",
                __typename: "Member",
              },
              createdAt: "2023-08-16T17:30:56.936Z",
              updatedAt: "2023-08-16T17:30:56.936Z",
              __typename: "ProfessionalInstitute",
            },
            {
              id: "67379182-8b90-4086-acd8-3a27f08b5600",
              memberId: "ffdd02cb-59e8-41aa-b32a-ad0c74fbf1ae",
              title: "Coordinator",
              institute: "AAT",
              duration: {
                from: "27.07.2022",
                to: "24.11.2022",
                __typename: "ProfessionalInstituteDuration",
              },
              member: {
                id: "ffdd02cb-59e8-41aa-b32a-ad0c74fbf1ae",
                nic: "805182374V",
                fullName: "Ruwini Brown",
                currentWorkplace: "MIT",
                designation: "Associate Tech Lead",
                profileSummary: "Reliable",
                createdAt: "2023-08-16T17:32:38.673Z",
                updatedAt: "2023-08-16T17:32:38.673Z",
                __typename: "Member",
              },
              createdAt: "2023-08-16T17:32:39.512Z",
              updatedAt: "2023-08-16T17:32:39.512Z",
              __typename: "ProfessionalInstitute",
            },
            {
              id: "0f7e6620-26e2-498a-977a-daa1f857350b",
              memberId: "443974bf-7a48-45d5-9851-5587b9fb6cc8",
              title: "Member",
              institute: "AAT",
              duration: {
                from: "24.05.2022",
                to: "12.03.2023",
                __typename: "ProfessionalInstituteDuration",
              },
              member: {
                id: "443974bf-7a48-45d5-9851-5587b9fb6cc8",
                nic: "871331507V",
                fullName: "Ruwini Williams",
                currentWorkplace: "CakeLabs",
                designation: "DevOps Engineer",
                profileSummary: "Team Player",
                createdAt: "2023-08-16T17:32:02.772Z",
                updatedAt: "2023-08-16T17:32:02.772Z",
                __typename: "Member",
              },
              createdAt: "2023-08-16T17:32:03.756Z",
              updatedAt: "2023-08-16T17:32:03.756Z",
              __typename: "ProfessionalInstitute",
            },
            {
              id: "546cf3b0-b0df-4c91-9468-9f208fa42b88",
              memberId: "10bd1ef9-0809-4586-a963-b86e9b4359c9",
              title: "Member",
              institute: "AAT",
              duration: {
                from: "09.08.2022",
                to: "07.02.2023",
                __typename: "ProfessionalInstituteDuration",
              },
              member: {
                id: "10bd1ef9-0809-4586-a963-b86e9b4359c9",
                nic: "654397531V",
                fullName: "Robert Johnson",
                currentWorkplace: "WSO2",
                designation: "DevOps Engineer",
                profileSummary: "Enthusiastic",
                createdAt: "2023-08-16T17:31:26.417Z",
                updatedAt: "2023-08-16T17:31:26.417Z",
                __typename: "Member",
              },
              createdAt: "2023-08-16T17:31:27.347Z",
              updatedAt: "2023-08-16T17:31:27.347Z",
              __typename: "ProfessionalInstitute",
            },
            {
              id: "bee675d3-c994-432f-ba9e-6f1a44172e0b",
              memberId: "2fa18d0e-e919-41a7-9648-99e868fa454f",
              title: "Member",
              institute: "AAT",
              duration: {
                from: "04.07.2023",
                to: "19.09.2022",
                __typename: "ProfessionalInstituteDuration",
              },
              member: {
                id: "2fa18d0e-e919-41a7-9648-99e868fa454f",
                nic: "916250525V",
                fullName: "Emily Sumanasekara",
                currentWorkplace: "CakeLabs",
                designation: "Frontend Engineer",
                profileSummary: "Reliable",
                createdAt: "2023-08-16T17:32:02.782Z",
                updatedAt: "2023-08-16T17:32:02.782Z",
                __typename: "Member",
              },
              createdAt: "2023-08-16T17:32:03.760Z",
              updatedAt: "2023-08-16T17:32:03.760Z",
              __typename: "ProfessionalInstitute",
            },
            {
              id: "edad5415-2aa5-4a74-bd5f-edaaa9275fb8",
              memberId: "5978b973-3666-4686-9d2c-1866fca8ede3",
              title: "Member",
              institute: "AAT",
              duration: {
                from: "05.04.2022",
                to: "01.06.2023",
                __typename: "ProfessionalInstituteDuration",
              },
              member: {
                id: "5978b973-3666-4686-9d2c-1866fca8ede3",
                nic: "795128557V",
                fullName: "John Garcia",
                currentWorkplace: "MIT",
                designation: "Frontend Engineer",
                profileSummary: "Hard working person",
                createdAt: "2023-08-16T17:32:38.711Z",
                updatedAt: "2023-08-16T17:32:38.711Z",
                __typename: "Member",
              },
              createdAt: "2023-08-16T17:32:39.712Z",
              updatedAt: "2023-08-16T17:32:39.712Z",
              __typename: "ProfessionalInstitute",
            },
            {
              id: "6edaa9c2-28ef-437b-a0d8-ff23f6a58833",
              memberId: "8095d7fb-0cc9-4685-a671-2624c6a92a2f",
              title: "Board Member",
              institute: "AAT",
              duration: {
                from: "22.05.2023",
                to: "26.02.2023",
                __typename: "ProfessionalInstituteDuration",
              },
              member: {
                id: "8095d7fb-0cc9-4685-a671-2624c6a92a2f",
                nic: "859676319V",
                fullName: "Emma Rajapaksha",
                currentWorkplace: "99x",
                designation: "Associate Tech Lead",
                profileSummary: "Team Player",
                createdAt: "2023-08-16T17:30:56.193Z",
                updatedAt: "2023-08-16T17:30:56.193Z",
                __typename: "Member",
              },
              createdAt: "2023-08-16T17:30:57.136Z",
              updatedAt: "2023-08-16T17:30:57.136Z",
              __typename: "ProfessionalInstitute",
            },
            {
              id: "0d3bb40b-71d7-4f30-afe0-74aba71056e4",
              memberId: "e46729db-fec2-427b-84ba-033f6064f25f",
              title: "Coordinator",
              institute: "AAT",
              duration: {
                from: "18.09.2021",
                to: "24.08.2022",
                __typename: "ProfessionalInstituteDuration",
              },
              member: {
                id: "e46729db-fec2-427b-84ba-033f6064f25f",
                nic: "839702650V",
                fullName: "Kasun Brown",
                currentWorkplace: "MIT",
                designation: "Software Engineer",
                profileSummary: "Enthusiastic",
                createdAt: "2023-08-16T17:32:38.690Z",
                updatedAt: "2023-08-16T17:32:38.690Z",
                __typename: "Member",
              },
              createdAt: "2023-08-16T17:32:39.528Z",
              updatedAt: "2023-08-16T17:32:39.528Z",
              __typename: "ProfessionalInstitute",
            },
            {
              id: "6629bb23-3578-498f-b83d-d9c664b3a27f",
              memberId: "7641e1a8-e2a8-4d22-831e-f73fb256c6ca",
              title: "Member",
              institute: "AAT",
              duration: {
                from: "30.04.2022",
                to: "05.02.2023",
                __typename: "ProfessionalInstituteDuration",
              },
              member: {
                id: "7641e1a8-e2a8-4d22-831e-f73fb256c6ca",
                nic: "672435397V",
                fullName: "Emma Perera",
                currentWorkplace: "MIT",
                designation: "Associate Tech Lead",
                profileSummary: "Team Player",
                createdAt: "2023-08-16T17:32:38.701Z",
                updatedAt: "2023-08-16T17:32:38.701Z",
                __typename: "Member",
              },
              createdAt: "2023-08-16T17:32:39.669Z",
              updatedAt: "2023-08-16T17:32:39.669Z",
              __typename: "ProfessionalInstitute",
            },
            {
              id: "102b0978-5f0e-4f2f-b66c-9d9e20088b81",
              memberId: "11f09ceb-ac76-4446-b8f2-e78d7aa9fce2",
              title: "Member",
              institute: "AAT",
              duration: {
                from: "09.12.2022",
                to: "22.12.2022",
                __typename: "ProfessionalInstituteDuration",
              },
              member: {
                id: "11f09ceb-ac76-4446-b8f2-e78d7aa9fce2",
                nic: "660819201V",
                fullName: "John Miller",
                currentWorkplace: "CakeLabs",
                designation: "Intern",
                profileSummary: "Responsible",
                createdAt: "2023-08-16T17:32:02.770Z",
                updatedAt: "2023-08-16T17:32:02.770Z",
                __typename: "Member",
              },
              createdAt: "2023-08-16T17:32:03.747Z",
              updatedAt: "2023-08-16T17:32:03.747Z",
              __typename: "ProfessionalInstitute",
            },
            {
              id: "7d6ecffe-9a12-479a-b2c3-52ca30811964",
              memberId: "c6bf8765-8b15-4f6e-8afe-89f8bb34d9bd",
              title: "Coordinator",
              institute: "AAT",
              duration: {
                from: "07.05.2022",
                to: "24.09.2022",
                __typename: "ProfessionalInstituteDuration",
              },
              member: {
                id: "c6bf8765-8b15-4f6e-8afe-89f8bb34d9bd",
                nic: "965457972V",
                fullName: "Thiwanka Brown",
                currentWorkplace: "WSO2",
                designation: "DevOps Engineer",
                profileSummary: "Enthusiastic",
                createdAt: "2023-08-16T17:31:26.399Z",
                updatedAt: "2023-08-16T17:31:26.399Z",
                __typename: "Member",
              },
              createdAt: "2023-08-16T17:31:27.162Z",
              updatedAt: "2023-08-16T17:31:27.162Z",
              __typename: "ProfessionalInstitute",
            },
            {
              id: "679c34ae-0394-4cc9-bb5c-e5bd2793b821",
              memberId: "8095d7fb-0cc9-4685-a671-2624c6a92a2f",
              title: "Member",
              institute: "AAT",
              duration: {
                from: "01.04.2022",
                to: "26.08.2022",
                __typename: "ProfessionalInstituteDuration",
              },
              member: {
                id: "8095d7fb-0cc9-4685-a671-2624c6a92a2f",
                nic: "859676319V",
                fullName: "Emma Rajapaksha",
                currentWorkplace: "99x",
                designation: "Associate Tech Lead",
                profileSummary: "Team Player",
                createdAt: "2023-08-16T17:30:56.193Z",
                updatedAt: "2023-08-16T17:30:56.193Z",
                __typename: "Member",
              },
              createdAt: "2023-08-16T17:30:57.136Z",
              updatedAt: "2023-08-16T17:30:57.136Z",
              __typename: "ProfessionalInstitute",
            },
            {
              id: "b25aa4a8-cb42-49b4-b33f-6c5fa429b590",
              memberId: "57027b48-5c03-4876-838a-f0eed7d5146f",
              title: "Member",
              institute: "AAT",
              duration: {
                from: "19.06.2023",
                to: "18.10.2022",
                __typename: "ProfessionalInstituteDuration",
              },
              member: {
                id: "57027b48-5c03-4876-838a-f0eed7d5146f",
                nic: "729739347V",
                fullName: "Upeksha Kulasuriya",
                currentWorkplace: "WSO2",
                designation: "Frontend Engineer",
                profileSummary: "Leadership",
                createdAt: "2023-08-16T17:31:26.416Z",
                updatedAt: "2023-08-16T17:31:26.416Z",
                __typename: "Member",
              },
              createdAt: "2023-08-16T17:31:27.344Z",
              updatedAt: "2023-08-16T17:31:27.344Z",
              __typename: "ProfessionalInstitute",
            },
            {
              id: "3dd8347e-15b0-4818-ac35-ac252fa0d596",
              memberId: "443974bf-7a48-45d5-9851-5587b9fb6cc8",
              title: "Member",
              institute: "AAT",
              duration: {
                from: "02.01.2023",
                to: "20.02.2023",
                __typename: "ProfessionalInstituteDuration",
              },
              member: {
                id: "443974bf-7a48-45d5-9851-5587b9fb6cc8",
                nic: "871331507V",
                fullName: "Ruwini Williams",
                currentWorkplace: "CakeLabs",
                designation: "DevOps Engineer",
                profileSummary: "Team Player",
                createdAt: "2023-08-16T17:32:02.772Z",
                updatedAt: "2023-08-16T17:32:02.772Z",
                __typename: "Member",
              },
              createdAt: "2023-08-16T17:32:03.756Z",
              updatedAt: "2023-08-16T17:32:03.756Z",
              __typename: "ProfessionalInstitute",
            },
            {
              id: "a49c6ec2-23da-41f8-a91f-4522e0fce437",
              memberId: "afc44be9-f66e-46ab-a57e-b8bb1bceb8cb",
              title: "Board Member",
              institute: "AAT",
              duration: {
                from: "03.07.2023",
                to: "15.09.2022",
                __typename: "ProfessionalInstituteDuration",
              },
              member: {
                id: "afc44be9-f66e-46ab-a57e-b8bb1bceb8cb",
                nic: "806109413V",
                fullName: "Kumudu Fernando",
                currentWorkplace: "CakeLabs",
                designation: "Frontend Engineer",
                profileSummary: "Reliable",
                createdAt: "2023-08-16T17:32:02.794Z",
                updatedAt: "2023-08-16T17:32:02.794Z",
                __typename: "Member",
              },
              createdAt: "2023-08-16T17:32:03.963Z",
              updatedAt: "2023-08-16T17:32:03.963Z",
              __typename: "ProfessionalInstitute",
            },
            {
              id: "721657cf-dd6d-4058-a771-c30835c8f402",
              memberId: "84ec3dfd-1134-4050-aa4f-4edd89a6b259",
              title: "Member",
              institute: "AAT",
              duration: {
                from: "13.02.2023",
                to: "22.12.2022",
                __typename: "ProfessionalInstituteDuration",
              },
              member: {
                id: "84ec3dfd-1134-4050-aa4f-4edd89a6b259",
                nic: "770645891V",
                fullName: "Priyantha Rajapaksha",
                currentWorkplace: "WSO2",
                designation: "DevOps Engineer",
                profileSummary: "Self-motivated",
                createdAt: "2023-08-16T17:31:26.410Z",
                updatedAt: "2023-08-16T17:31:26.410Z",
                __typename: "Member",
              },
              createdAt: "2023-08-16T17:31:27.166Z",
              updatedAt: "2023-08-16T17:31:27.166Z",
              __typename: "ProfessionalInstitute",
            },
            {
              id: "23d12da1-32b9-4608-856b-9b55f1b7b2c8",
              memberId: "57027b48-5c03-4876-838a-f0eed7d5146f",
              title: "Member",
              institute: "AAT",
              duration: {
                from: "23.09.2021",
                to: "19.06.2023",
                __typename: "ProfessionalInstituteDuration",
              },
              member: {
                id: "57027b48-5c03-4876-838a-f0eed7d5146f",
                nic: "729739347V",
                fullName: "Upeksha Kulasuriya",
                currentWorkplace: "WSO2",
                designation: "Frontend Engineer",
                profileSummary: "Leadership",
                createdAt: "2023-08-16T17:31:26.416Z",
                updatedAt: "2023-08-16T17:31:26.416Z",
                __typename: "Member",
              },
              createdAt: "2023-08-16T17:31:27.344Z",
              updatedAt: "2023-08-16T17:31:27.344Z",
              __typename: "ProfessionalInstitute",
            },
            {
              id: "09cab755-0e04-4973-8c5e-28127f9210df",
              memberId: "e123fd4d-1319-4aee-a0c3-052496fc7b5e",
              title: "Member",
              institute: "AAT",
              duration: {
                from: "06.09.2021",
                to: "28.12.2022",
                __typename: "ProfessionalInstituteDuration",
              },
              member: {
                id: "e123fd4d-1319-4aee-a0c3-052496fc7b5e",
                nic: "953984225V",
                fullName: "Michael Brown",
                currentWorkplace: "WSO2",
                designation: "Frontend Engineer",
                profileSummary: "Team Player",
                createdAt: "2023-08-16T17:31:26.408Z",
                updatedAt: "2023-08-16T17:31:26.408Z",
                __typename: "Member",
              },
              createdAt: "2023-08-16T17:31:27.342Z",
              updatedAt: "2023-08-16T17:31:27.342Z",
              __typename: "ProfessionalInstitute",
            },
            {
              id: "144b0e81-a733-4270-94ee-726ba2576c7e",
              memberId: "f3f794a9-7972-4dfa-a291-8b8ef1b6924a",
              title: "Member",
              institute: "AAT",
              duration: {
                from: "02.07.2023",
                to: "05.06.2023",
                __typename: "ProfessionalInstituteDuration",
              },
              member: {
                id: "f3f794a9-7972-4dfa-a291-8b8ef1b6924a",
                nic: "788535436V",
                fullName: "Upeksha Miller",
                currentWorkplace: "WSO2",
                designation: "Support Engineer",
                profileSummary: "Self-motivated",
                createdAt: "2023-08-16T17:31:26.400Z",
                updatedAt: "2023-08-16T17:31:26.400Z",
                __typename: "Member",
              },
              createdAt: "2023-08-16T17:31:27.408Z",
              updatedAt: "2023-08-16T17:31:27.408Z",
              __typename: "ProfessionalInstitute",
            },
            {
              id: "180669d8-12aa-4bfd-962c-5e5532af6ad7",
              memberId: "707071f4-f94e-4e49-a636-434f1360ee6c",
              title: "Member",
              institute: "AAT",
              duration: {
                from: "12.12.2021",
                to: "12.08.2023",
                __typename: "ProfessionalInstituteDuration",
              },
              member: {
                id: "707071f4-f94e-4e49-a636-434f1360ee6c",
                nic: "839129299V",
                fullName: "Ruwini Rajapaksha",
                currentWorkplace: "MIT",
                designation: "DevOps Engineer",
                profileSummary: "Leadership",
                createdAt: "2023-08-16T17:32:38.714Z",
                updatedAt: "2023-08-16T17:32:38.714Z",
                __typename: "Member",
              },
              createdAt: "2023-08-16T17:32:39.718Z",
              updatedAt: "2023-08-16T17:32:39.718Z",
              __typename: "ProfessionalInstitute",
            },
            {
              id: "870929ef-1353-4f23-abe5-57ef5128c5a4",
              memberId: "79ab4ab5-b72a-4628-989b-aa6b052b8d3e",
              title: "Coordinator",
              institute: "AAT",
              duration: {
                from: "31.03.2023",
                to: "05.09.2022",
                __typename: "ProfessionalInstituteDuration",
              },
              member: {
                id: "79ab4ab5-b72a-4628-989b-aa6b052b8d3e",
                nic: "940789018V",
                fullName: "Thiwanka Jones",
                currentWorkplace: "WSO2",
                designation: "Intern",
                profileSummary: "Team Player",
                createdAt: "2023-08-16T17:31:26.418Z",
                updatedAt: "2023-08-16T17:31:26.418Z",
                __typename: "Member",
              },
              createdAt: "2023-08-16T17:31:27.349Z",
              updatedAt: "2023-08-16T17:31:27.349Z",
              __typename: "ProfessionalInstitute",
            },
          ],
          nextToken:
            "eyJ2ZXJzaW9uIjozLCJ0b2tlbiI6IkFnVjRnZzZqMm1HSEtCRStKSUxQdXNZaG9SeEJiT0EyaW9wdW4yNU1Vblg0TzhvQWV3QUNBQWRCY0hCVGVXNWpBQkZGYm1OeWVYQjBhVzl1UTI5dWRHVjRkQUFWWVhkekxXTnllWEIwYnkxd2RXSnNhV010YTJWNUFFUkJhbTF3TkdGNVlsZzJiSGRtVUZwRFdqQTBWbmRIYlZWc05rZENOblUxZUVSYVlVOHhhVFk1Um14dE9VeHVhMnBCVWpkWWJETnZPVW9yVG1SdFJDc3dhM2M5UFFBQkFBZGhkM010YTIxekFFdGhjbTQ2WVhkek9tdHRjenAxY3kxM1pYTjBMVEU2TURFMk9UWXlNRFU1T1RNd09tdGxlUzg1TldNNE5Ua3dNaTFtWm1GbUxUUTJZMlV0WVRZMFpDMWtaV0l5T1RRMlkySTNNamNBdUFFQ0FRQjQ3OVpueXJmbWsxVU11cFExVHA0YU9ONEM4SDltbDJTaU4xRXMwbE9VRklFQnBDUklMSWt2TDRiSlVqdUkxdVFEbHdBQUFINHdmQVlKS29aSWh2Y05BUWNHb0c4d2JRSUJBREJvQmdrcWhraUc5dzBCQndFd0hnWUpZSVpJQVdVREJBRXVNQkVFRElnZGpxMENGWjd5VjFpcXBRSUJFSUE3clFac202SXhERWpONThoeVRVVDk2bW02a0dPSXltT3pwRE1OdzFqbCt5OEFhb0cxZVFzVGpPM1dXTmdEV3NOTEpwRDdDZnNIM2hPYTBHc0NBQUFRQUE5YytXd0o2azZmczRtc2pjRzRCSDROZ0ZuNytrSm9LUFBrdWhJcXorb0RLLzlCRW1SWmlIdFV2d3dZcVlsMWRQLy8vLzhBQUFBQkFBQUFBQUFBQUFBQUFBQUJBQUFCd3RYcXNDWFBWTnh6R1plYUJMOXBmSWN4YzVKaThFQ296WkQ3b0xTaGRsMmtSc0xCYXdic3ltVnVMQ1FxUkxwb3lzbzZJcVZvdzFoc1JYSXI3VmJoVTgxd0xVN3VBUy9uL1N0blVaS2MxazdNdlZxSmF3U3hrTXRkeElQcDBDR2tuNjFIUnREc1YyL1AxQVNJVVNFOWZmeC8vdDdTVS9ZaXl2MjMyMnhVSXJPaHVSUWdqa1llbTBvWHhqRUYyTzFwMlpvTUhNQ1hsTXFCZHlaSDNsVTRzUjgweHJmTW5PTGxxdDJodmhMMFdxZTZnbjVrQWtnbEpaV2tzVlM4ZXlJdXU0NzMvUHI0K3UrRWRNSHc1MG5xV0FhTTl2aTNqYXFVMllGUVEvc05MQ0NhejI2NCs3eTNyVHdXTy81NmR4Rk4rWnVRTlRFdTFFZkxudFJYbmEyWTc3aXRUdXRtN0dNbU1lbGQvM0RSbkEyTGJiTXhmRXBoTTJlMGlzWXAyY3I4RmRzSGtyL0VuNUpHMlB4L0RFWDN5eEZDc3VJS0pqbWZaRE92S0hNdTFyeFZ1TFp1VSthTXNOcWtHdWVzTDNZeGs2elVtN056NUVUZGJla211R01La1ladVRPbENvbXh3bEFyemRYT1RrcVVBSTVyakdWL3pLMHd1cFE4R2ZEd250QzZhMHM4aGRXMU5BR0wwckMxZmM2ei80SzRLd3RCSm1DUnJFVVl0U3VmNU44STlzc0dYRlJwV1hGc3NuUVhOMS9PaEJyeU14aTYzeUFXU2wrbEN0cXNIcnNCU3NPNHVobTJha0FSWlJpdytiYnNBWnpCbEFqQjhscytqYTBlUm9vY2ZFZFpOZXNwdUowV3dtS3J6SDNFZXMzM29HQTlzRnJBa2IyU1cyWWlLQVI5SFh4YlBhTzhDTVFDaUlId2x4T1VlNmVJbk5kaExPRWI1K0dPYkRQWmZkdW45eGc5OXFzVjY4NDVFL3R0SDNmZlROc2JoMm90d0dYUT0ifQ==",
          __typename: "ModelProfessionalInstituteConnection",
        },
      },
    };
    API.graphql.mockResolvedValue(mockData);

    const result = await searchByInstitute("AAT");

    expect(result).toEqual(mockData.data.listProfessionalInstitutes.items);
    expect(API.graphql).toHaveBeenCalledWith({
      query: queries.listProfessionalInstitutes,
      variables: {
        filter: {
          institute: {
            eq: "AAT",
          },
        },
      },
      authMode: GRAPHQL_AUTH_MODE.AMAZON_COGNITO_USER_POOLS,
    });
  });
  it("handles API errors", async () => {
    const mockError = new Error("API error");

    API.graphql.mockImplementation(() => Promise.reject(mockError));

    await expect(searchByInstitute("spec", "AI")).rejects.toThrow(mockError);
  });
});
